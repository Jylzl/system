!function(e){"use strict";function t(e,t){return{title:"Accessibility Checker",body:{type:"panel",items:[{type:"panel",classes:["tox-accessibility-issue","accessibility-issue--success"],items:[{type:"htmlpanel",html:un(t,"a11y.widget.issue.none","success","checkmark"),preset:"presentation"}]}]},buttons:[{type:"submit",name:"ok",text:"OK",primary:!0}],onSubmit:function(t){e.clear(),t.close()},onCancel:function(){e.clear()}}}function r(t){var r,n={},o=bt(null),i=function(e,t,r){return Math.min(Math.max(e,t),r)},a=function(){var n,o,a,u,c=t.getBody();if(c&&r&&!0===r.state.get("visible")){var s=t.inline?t.getElement():t.getContentAreaContainer(),l=("BODY"===(u=c).nodeName&&(u=u.parentNode),u.scrollHeight>u.clientHeight?-25:-10);r.moveRel(s,"tr-tr"),r.moveBy(l,10),o=10,a=(n=r).layoutRect(),n.moveTo(i(a.x,0,e.window.innerWidth-a.w),i(a.y,o,e.window.innerHeight-a.h-o))}};return{actions:n,open:function(){(r=tinymce.ui.Factory.create("window",{title:"Accessibility Checker",spacing:5,padding:10,minWidth:300,layout:"flex",direction:"column",align:"stretch",items:[{type:"label",name:"index",text:"Index",padding:"0 0 5 0"},{type:"widget",classes:"widget infobox has-help",name:"description",onpostrender:function(e){e.control.getEl().innerHTML=dn.getInitialHtml()},onclick:function(t){if(o.get()){t.stopPropagation(),t.preventDefault();var r=o.get();r&&e.window.open(r)}}},{type:"container",layout:"flex",direction:"column",align:"stretch",name:"repairer",padding:"5 0 5 0",items:[]},{type:"label",name:"validation",hidden:!0,classes:"error"},{type:"container",name:"footer",layout:"flex",direction:"row",spacing:3,items:[{type:"button",name:"repair",text:ne("a11y.widget.repair"),onclick:"repair"},{type:"button",text:ne("a11y.widget.ignore"),onclick:"ignore"},{type:"spacer",flex:1},{type:"button",text:ne("a11y.widget.previous"),onclick:"prev"},{type:"button",text:ne("a11y.widget.next"),autofocus:!0,subtype:"primary",onclick:"next"}]},{type:"container",name:"closer",layout:"flex",direction:"row",hidden:!0,items:[{type:"spacer",flex:1},{type:"button",subtype:"primary",name:"close",text:"Close",onclick:function(){r.close()}}]}]})).on("submit",function(e){e.preventDefault(),n.repair()}),r.modal=!1,r.on("open",function(){a()}),r.on("close",function(){n.close()}),r.on("execute",function(e){n[e.action]()}),t.on("remove",function(){r&&r.close()}),r.renderTo().reflow(),r.moveTo(0,0)},close:function(){r&&(r.close(),r=null)},reposition:a,setIndexText:function(e){r.find("#index").show().text(e)},hideIndex:function(){r.find("#index").hide()},setDescriptionText:function(e,n,i){var a=r.find("#description")[0].show();dn.setSeverity(a,n),o.set(i),a.getEl().firstChild.innerHTML=dn.buildHtml(e,i),a.updateLayoutRect(),a.reflow(),fn.setEditorTimeout(t,function(){a.getEl().lastChild.textContent=e})},setRepairerChildren:function(e){var t;(t=r.find("#repairer")[0]).items().remove(),t.append(e),t.renderNew()},hideFooter:function(){r.find("#footer").hide()},showCloser:function(){var e=r.find("#closer")[0];e.show(),e.focus()},hideRepairer:function(){r.find("#repairer").hide()},showRepairer:function(){r.find("#repairer").show()},hideRepairButton:function(){r.find("#repair").hide()},showRepairButton:function(){r.find("#repair").show()},setValidationInformation:function(e){r.find("#validation").show().text(e)},hideValidation:function(){r.find("#validation").hide()},retrieveTextInput:function(e){return r.find("#"+e).value()},retrieveSelectInput:function(e){return r.find("#"+e).value()}}}function n(e,t){var n,o={I1:_.some(vn({ui:_.some(function(e,t){return[mn("image-alt",e("a11y.i1.repair.info")),hn("image-alt","")]}),repair:function(e,t,r){var n=t.retrieveTextInput("image-alt");return $r(e,n,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",r)}})),I2:_.some(vn({ui:_.some(function(e,t){var r=t.dom().alt;return[mn("image-alt",e("a11y.i1.repair.info")),hn("image-alt",r)]}),repair:function(e,t,r){var n=t.retrieveTextInput("image-alt");return $r(e,n,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",r)}})),T1:_.some(vn({ui:_.some(function(e,t){return[mn("table-caption",e("a11y.t1.repair.info")),hn("table-caption","")]}),repair:function(e,t,r){var n=t.retrieveTextInput("table-caption");return Qr(e,n,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",r)}})),T2:_.some(vn({ui:_.some(function(e,t){return[mn("table-summary",e("a11y.t2.repair.info")),hn("table-summary","")]}),repair:function(e,t,r){var n=t.retrieveTextInput("table-summary");return Zr(e,n,"a11y.t2.repair.errors.empty","a11y.t2.repair.errors.duplicate",r)}})),T3:_.some(vn({ui:_.some(function(e,t){var r=mt(t,"caption").fold(function(){return""},function(e){return e.dom().innerHTML});return[mn("table-caption",e("a11y.t1.repair.info")),hn("table-caption",r)]}),repair:function(e,t,r){var n=t.retrieveTextInput("table-caption");return Qr(e,n,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",r)}})),T4A:_.none(),T4B:_.some(vn({ui:_.some(function(e,t){return[mn("table-headers",e("a11y.t4b.repair.info")),pn("table-headers",[{text:"a11y.t4c.repair.header.row",value:"row"},{text:"a11y.t4c.repair.header.col",value:"col"}],e)]}),repair:function(e,t,r){var n=t.retrieveSelectInput("table-headers");return en(e,n)}})),T4C:_.some(vn({ui:_.some(function(e,t){return[mn("scope-type",e("a11y.t4c.repair.info")),pn("scope-type",[{text:"a11y.t4c.repair.scope.row",value:"row"},{text:"a11y.t4c.repair.scope.col",value:"col"},{text:"a11y.t4c.repair.scope.rowgroup",value:"rowgroup"},{text:"a11y.t4c.repair.scope.colgroup",value:"colgroup"}],e)]}),repair:function(e,t,r){var n=t.retrieveSelectInput("scope-type");return tn(e,n)}})),D1:_.some(vn({ui:_.some(function(e,t){return[mn("heading-type",e("a11y.d1.repair.info")),pn("heading-type",[{text:"a11y.d1.repair.block.h1",value:"h1"},{text:"a11y.d1.repair.block.h2",value:"h2"},{text:"a11y.d1.repair.block.h3",value:"h3"},{text:"a11y.d1.repair.block.h4",value:"h4"},{text:"a11y.d1.repair.block.h5",value:"h5"},{text:"a11y.d1.repair.block.h6",value:"h6"}],e)]}),repair:function(e,t,r){var n=t.retrieveSelectInput("heading-type");return Br(e,n)}})),D2:_.none(),D3:_.some(vn({ui:_.none(),repair:function(e,t,r){return Fr(e)}}))},i=function(){u(),t.scan().fold(function(){return f()},function(e){return s(e.issue,e.index)})},a=function(){n&&n.close()},u=function(){(n=r(e)).actions.close=function(){t.clear()},n.actions.ignore=function(){l(!0)},n.actions.prev=p,n.actions.next=h,n.open()},c=function(){n&&n.reposition()},s=function(r,i){n.hideValidation();var a,u="https://www.tinymce.com/docs/plugins/a11ychecker/#"+r.id();n.setIndexText(ne(["a11y.widget.counter",i,t.getIssues().length])),n.setDescriptionText(ne(r.description()),r.severity(),u),(a=r.id(),void 0!==o[a]?o[a]:_.none()).fold(d,function(e){return m(e,r)}),c(),e.selection.scrollIntoView(r.element().dom())},l=function(e){t.resolveCurrent(e).fold(function(){return f()},function(e){s(e.issue,e.index)}),c()},f=function(){n.hideIndex(),n.hideRepairer(),n.hideValidation(),n.hideFooter(),n.showCloser(),n.setDescriptionText(ne("a11y.widget.issue.none"),"success")},d=function(){n.hideRepairer(),n.hideRepairButton()},m=function(t,r){t.ui().fold(d,function(e){n.setRepairerChildren(e(ne,r.element())),n.showRepairer()}),n.showRepairButton(),n.actions.repair=function(){e.undoManager.transact(function(){t.repair()(r.element(),n,ne).fold(function(e){n.setValidationInformation(e),c()},function(){return l(!1)})})}},p=function(){var e=t.stepIssue(-1);s(e.issue,e.index)},h=function(){var e=t.stepIssue(1);s(e.issue,e.index)};return{toggleAuditing:function(){t.isAuditing()?a():i()},startAuditing:i,stopAuditing:a,positionDialog:c}}var o,i,a,u,c,s,l,f,d,m,p,h,v,y,g=function(e){return parseInt(e,10)},w=function(e,t,r){return{major:e,minor:t,patch:r}},b=function(e){var t=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(e);return t?w(g(t[1]),g(t[2]),g(t[3])):w(0,0,0)},x=function(e,t){var r=e-t;return 0===r?0:0<r?1:-1},k=function(e,t){return!!e&&-1===function(e,t){var r=x(e.major,t.major);if(0!==r)return r;var n=x(e.minor,t.minor);if(0!==n)return n;var o=x(e.patch,t.patch);return 0!==o?o:0}(b([(r=e).majorVersion,r.minorVersion].join(".").split(".").slice(0,3).join(".")),b(t));var r},T=(o=e.window,i="error",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.console;r&&i in r&&r[i].apply(r,e)}),N=function(){},A=function(e){return function(){return e}},D=function(e){return e},S=A(!1),E=A(!0),I=S,O=E,R=function(){return C},C=(s={fold:function(e,t){return e()},is:I,isSome:I,isNone:O,getOr:c=function(e){return e},getOrThunk:u=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:c,orThunk:u,map:R,ap:R,each:function(){},bind:R,flatten:R,exists:I,forall:O,filter:R,equals:a=function(e){return e.isNone()},equals_:a,toArray:function(){return[]},toString:A("none()")},Object.freeze&&Object.freeze(s),s),M=function(e){var t=function(){return e},r=function(){return o},n=function(t){return t(e)},o={fold:function(t,r){return r(e)},is:function(t){return e===t},isSome:O,isNone:I,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return M(t(e))},ap:function(t){return t.fold(R,function(t){return M(t(e))})},each:function(t){t(e)},bind:n,flatten:t,exists:n,forall:n,filter:function(t){return t(e)?o:C},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(I,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},_={some:M,none:R,from:function(e){return null==e?C:M(e)}},G=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}},H=G("string"),L=G("array"),P=G("boolean"),V=G("function"),W=G("number"),q=(Array.prototype.slice,void 0===(l=Array.prototype.indexOf)?function(e,t){return X(e,t)}:function(e,t){return l.call(e,t)}),U=function(e,t){return-1<q(e,t)},j=function(e,t){for(var r=e.length,n=new Array(r),o=0;o<r;o++){var i=e[o];n[o]=t(i,o,e)}return n},B=function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r,e)},F=function(e,t){for(var r=[],n=0,o=e.length;n<o;n++){var i=e[n];t(i,n,e)&&r.push(i)}return r},z=function(e,t){for(var r=0,n=e.length;r<n;r++){var o=e[r];if(t(o,r,e))return _.some(o)}return _.none()},X=function(e,t){for(var r=0,n=e.length;r<n;++r)if(e[r]===t)return r;return-1},Y=Array.prototype.push,$=function(e,t){return function(e){for(var t=[],r=0,n=e.length;r<n;++r){if(!L(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);Y.apply(t,e[r])}return t}(j(e,t))},K=function(e,t){for(var r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r,e))return!1;return!0},J=(V(Array.from)&&Array.from,{a:A("a"),aa:A("aa"),aaa:A("aaa")}),Q={html4:A("html4"),html5:A("html5")},Z=[J.a(),J.aa(),J.aaa()],ee=[Q.html4(),Q.html5()],te={"a11y.d1.description":"This paragraph looks like a heading. If it is a heading, please select a heading level.","a11y.d1.repair.block.h1":"Heading 1","a11y.d1.repair.block.h2":"Heading 2","a11y.d1.repair.block.h3":"Heading 3","a11y.d1.repair.block.h4":"Heading 4","a11y.d1.repair.block.h5":"Heading 5","a11y.d1.repair.block.h6":"Heading 6","a11y.d1.repair.info":"Select a heading level:","a11y.d2.description":"Headings must be applied in sequential order. For example: Heading 1 should be followed by Heading 2, not Heading 3.","a11y.d3.description":"Adjacent links with the same URL should be merged into one link","a11y.d4.description":"The selected text appears to be a list. Lists should be formatted using a list tag.","a11y.d5a.description":"Large text must have a contrast ratio of at least 3:1","a11y.d5b.description":"Text must have a contrast ratio of at least 4.5:1","a11y.d5c.description":"Text must have a contrast ratio of at least 7:1","a11y.i1.description":"Images must have an alternative text description","a11y.i1.repair.errors.duplicate":"Alternative text cannot be the same as the filename","a11y.i1.repair.errors.empty":"Alternative text cannot be empty","a11y.i1.repair.info":"Provide alternative text:","a11y.i2.description":"Alternative text must not be the same as the image filename","a11y.t1.description":"Tables must have captions","a11y.t1.repair.errors.duplicate":"Table caption cannot be the same as the table summary","a11y.t1.repair.errors.empty":"Caption cannot be empty","a11y.t1.repair.info":"Provide caption:","a11y.t2.description":"Complex tables should have summaries","a11y.t2.repair.errors.duplicate":"Table summary cannot be the same as the table caption","a11y.t2.repair.errors.empty":"Summary cannot be empty","a11y.t2.repair.info":"Provide table summary:","a11y.t3.description":"Table caption and summary cannot have the same value","a11y.t4a.description":"Table elements must contain TR and TD tags","a11y.t4b.description":"Tables must have at least one header cell","a11y.t4b.repair.info":"Choose table header:","a11y.t4c.description":"Table headers must be applied to a row or a column","a11y.t4c.repair.header.col":"Header Column","a11y.t4c.repair.header.row":"Header Row","a11y.t4c.repair.info":"Select header scope:","a11y.t4c.repair.scope.col":"Column","a11y.t4c.repair.scope.colgroup":"Column Group","a11y.t4c.repair.scope.row":"Row","a11y.t4c.repair.scope.rowgroup":"Row Group","a11y.widget.counter":"Issue {0} of {1}","a11y.widget.ignore":"Ignore","a11y.widget.issue.none":"No accessibility issues detected","a11y.widget.next":"Next Issue","a11y.widget.previous":"Previous Issue","a11y.widget.repair":"Repair Issue","a11y.widget.title":"Accessibility Checker","a11y.widget.help.title":"Click for more info",error:"Error",warning:"Warning",info:"Info",success:"Success"},re=function(e){return te[e]},ne=function(e){return Array.isArray(e)?tinymce.translate([re(e[0])].concat(e.slice(1))):tinymce.translate(re(e))},oe=Object.keys,ie=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),ae=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),ue=e.Node.TEXT_NODE,ce=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")()),se=function(e,t){return function(e,t){for(var r=null!=t?t:ce,n=0;n<e.length&&null!=r;++n)r=r[e[n]];return r}(e.split("."),t)},le=function(e,t){var r=se(e,t);if(null==r)throw new Error(e+" not available on this browser");return r},fe=function(e){var t,r=se("ownerDocument.defaultView",e);return(t=r,le("HTMLElement",t)).prototype.isPrototypeOf(e)},de=function(e){return fe(e.dom())},me=(f=ue,function(e){return e.dom().nodeType===f}),pe=function(t,r,n){!function(t,r,n){if(!(H(n)||P(n)||W(n)))throw e.console.error("Invalid call to Attr.set. Key ",r,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(r,n+"")}(t.dom(),r,n)},he=function(e,t){var r=e.dom().getAttribute(t);return null===r?void 0:r},ve=function(e,t){var r=e.dom();return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},ye=function(e,t){e.dom().removeAttribute(t)},ge=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:A(e)}},we={fromHtml:function(t,r){var n=(r||e.document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ge(n.childNodes[0])},fromTag:function(t,r){var n=(r||e.document).createElement(t);return ge(n)},fromText:function(t,r){var n=(r||e.document).createTextNode(t);return ge(n)},fromDom:ge,fromPoint:function(e,t,r){var n=e.dom();return _.from(n.elementFromPoint(t,r)).map(ge)}},be=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var n={};return B(e,function(e,r){n[e]=A(t[r])}),n}},xe=function(e){return e.slice(0).sort()},ke=function(e,t){if(!L(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");B(t,function(t){if(!H(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Te=function(e,t){var r,n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ke("required",e),ke("optional",t),r=xe(n),z(r,function(e,t){return t<r.length-1&&e===r[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")}),function(r){var o=oe(r);K(e,function(e){return U(o,e)})||function(e,t){throw new Error("All required keys ("+xe(e).join(", ")+") were not specified. Specified keys were: "+xe(t).join(", ")+".")}(e,o);var i=F(o,function(e){return!U(n,e)});0<i.length&&function(e){throw new Error("Unsupported keys for object: "+xe(e).join(", "))}(i);var a={};return B(e,function(e){a[e]=A(r[e])}),B(t,function(e){a[e]=A(Object.prototype.hasOwnProperty.call(r,e)?_.some(r[e]):_.none())}),a}},Ne=function(){return Ae(0,0)},Ae=function(e,t){return{major:e,minor:t}},De={nu:Ae,detect:function(e,t){var r=String(t).toLowerCase();return 0===e.length?Ne():function(e,t){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.test(t))return n}}(e,t);if(!r)return{major:0,minor:0};var n=function(e){return Number(t.replace(r,"$"+e))};return Ae(n(1),n(2))}(e,r)},unknown:Ne},Se="Firefox",Ee=function(e,t){return function(){return t===e}},Ie=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Ee("Edge",t),isChrome:Ee("Chrome",t),isIE:Ee("IE",t),isOpera:Ee("Opera",t),isFirefox:Ee(Se,t),isSafari:Ee("Safari",t)}},Oe={unknown:function(){return Ie({current:void 0,version:De.unknown()})},nu:Ie,edge:A("Edge"),chrome:A("Chrome"),ie:A("IE"),opera:A("Opera"),firefox:A(Se),safari:A("Safari")},Re="Windows",Ce="Android",Me="Solaris",_e="FreeBSD",Ge=function(e,t){return function(){return t===e}},He=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Ge(Re,t),isiOS:Ge("iOS",t),isAndroid:Ge(Ce,t),isOSX:Ge("OSX",t),isLinux:Ge("Linux",t),isSolaris:Ge(Me,t),isFreeBSD:Ge(_e,t)}},Le={unknown:function(){return He({current:void 0,version:De.unknown()})},nu:He,windows:A(Re),ios:A("iOS"),android:A(Ce),linux:A("Linux"),osx:A("OSX"),solaris:A(Me),freebsd:A(_e)},Pe=function(e,t){var r=String(t).toLowerCase();return z(e,function(e){return e.search(r)})},Ve=function(e,t){return Pe(e,t).map(function(e){var r=De.detect(e.versionRegexes,t);return{current:e.name,version:r}})},We=function(e,t){return Pe(e,t).map(function(e){var r=De.detect(e.versionRegexes,t);return{current:e.name,version:r}})},qe=function(e,t){return-1!==e.indexOf(t)},Ue=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,je=function(e){return function(t){return qe(t,e)}},Be=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return qe(e,"edge/")&&qe(e,"chrome")&&qe(e,"safari")&&qe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ue],search:function(e){return qe(e,"chrome")&&!qe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return qe(e,"msie")||qe(e,"trident")}},{name:"Opera",versionRegexes:[Ue,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:je("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:je("firefox")},{name:"Safari",versionRegexes:[Ue,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(qe(e,"safari")||qe(e,"mobile/"))&&qe(e,"applewebkit")}}],Fe=[{name:"Windows",search:je("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return qe(e,"iphone")||qe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:je("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:je("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:je("linux"),versionRegexes:[]},{name:"Solaris",search:je("sunos"),versionRegexes:[]},{name:"FreeBSD",search:je("freebsd"),versionRegexes:[]}],ze={browsers:A(Be),oses:A(Fe)},Xe=function(e){var t,r,n,o,i,a,u,c,s,l,f,d=ze.browsers(),m=ze.oses(),p=Ve(d,e).fold(Oe.unknown,Oe.nu),h=We(m,e).fold(Le.unknown,Le.nu);return{browser:p,os:h,deviceType:(r=p,n=e,o=(t=h).isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,u=t.isAndroid()&&4===t.version.major,c=o||a||u&&!0===/mobile/i.test(n),s=t.isiOS()||t.isAndroid(),l=s&&!c,f=r.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),{isiPad:A(o),isiPhone:A(i),isTablet:A(c),isPhone:A(l),isTouch:A(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:A(f)})}},Ye=(p=!(d=function(){var t=e.navigator.userAgent;return Xe(t)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p||(p=!0,m=d.apply(null,e)),m}),$e=ae,Ke=ie,Je=function(e,t){var r=e.dom();if(r.nodeType!==$e)return!1;var n=r;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Qe=function(e){return e.nodeType!==$e&&e.nodeType!==Ke||0===e.childElementCount},Ze=function(t,r){var n=void 0===r?e.document:r.dom();return Qe(n)?_.none():_.from(n.querySelector(t)).map(we.fromDom)},et=({detect:Ye}.detect().browser.isIE(),function(e){return we.fromDom(e.dom().ownerDocument)}),tt=function(e){return _.from(e.dom().parentNode).map(we.fromDom)},rt=function(e){return j(e.dom().childNodes,we.fromDom)},nt=function(e){return t=0,r=e.dom().childNodes,_.from(r[t]).map(we.fromDom);var t,r},ot=(be("element","offset"),function(e,t){tt(e).each(function(r){r.dom().insertBefore(t.dom(),e.dom())})}),it=function(e,t){var r;(r=e,_.from(r.dom().nextSibling).map(we.fromDom)).fold(function(){tt(e).each(function(e){at(e,t)})},function(e){ot(e,t)})},at=function(e,t){e.dom().appendChild(t.dom())},ut=function(e,t){B(t,function(t){at(e,t)})},ct=function(e){e.dom().textContent="",B(rt(e),function(e){st(e)})},st=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},lt=function(e){var t,r=rt(e);0<r.length&&(t=e,B(r,function(e){ot(t,e)})),st(e)},ft=function(e){var t=e.dom().body;if(null==t)throw new Error("Body is not available yet");return we.fromDom(t)},dt=function(e){return Ze(e)},mt=function(e,t){return r=function(e){return Je(e,t)},z(e.dom().childNodes,function(e){return r(we.fromDom(e))}).map(we.fromDom);var r},pt=function(e,t){return Ze(t,e)},ht=function(e){return dt(e).isSome()},vt=(h="ephox-foam".replace(/\./g,"-"),{resolve:function(e){return h+"-"+e}}),yt=vt.resolve("styles"),gt="#"+yt,wt={resolve:vt.resolve,injectStyles:function(e){if(!ht(gt)){var t=we.fromTag("link");pe(t,"id",yt),pe(t,"rel","stylesheet"),pe(t,"href",e);var r=dt("head").getOrDie("Head element could not be found.");at(r,t)}},removeStyles:function(){if(ht(gt)){var e=dt("head").getOrDie("Head element could not be found."),t=pt(e,gt).getOrDie("The style element could not be removed");st(t)}}},bt=function(e){var t=e,r=function(){return t};return{get:r,set:function(e){t=e},clone:function(){return bt(r())}}},xt=Te(["rules"],[]),kt=Te(["rule","element"],[]),Tt=function(e,t,r){return 0!=(e.compareDocumentPosition(t)&r)},Nt=function(t,r){return Tt(t,r,e.Node.DOCUMENT_POSITION_PRECEDING)},At=function(e,t){return $(t,function(t){return t.check()(e)?[kt({rule:t,element:e})]:[]})},Dt=function(t,r){for(var n=[],o=function(e,t){for(var r=[],n=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?r:n).push(a)}return{pass:r,fail:n}}(r,function(e){return e.walkable()}),i=o.pass,a=o.fail,u=e.document.createTreeWalker(t,e.NodeFilter.SHOW_ELEMENT,null,!1);u.nextNode();)n=n.concat(At(u.currentNode,i));var c,s=(c=t,$(a,function(e){return j(e.check()(c),function(t){return kt({rule:e,element:t})})}));return(n=n.concat(s)).sort(function(e,t){return r=e.element(),n=t.element(),r===n?0:Nt(r,n)?1:-1;var r,n}),n},St=Te(["id","wcag","severity","desckey","url","walkable","check","levels","htmlversions"],[]),Et={error:A("error"),warning:A("warning"),info:A("info")},It=function(e,t){return e.matches?e.matches(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.mozMatchesSelector?e.mozMatchesSelector(t):!!e.msMatchesSelector&&e.msMatchesSelector(t)},Ot=St({id:"D1",wcag:"1.3.1",severity:Et.warning(),desckey:"a11y.d1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return!!It(e,"p")&&K(e.childNodes,function(e){return/^(b|strong)$/i.test(e.nodeName)})},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),Rt=St({id:"D2",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.d2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:function(e){var t,r=e.querySelectorAll("h1, h2, h3, h4, h5, h6"),n=[];return B(r,function(e){var r=parseInt(e.tagName.slice(1),10);t&&1<r-t&&n.push(e),t=r}),n},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),Ct=St({id:"D3",wcag:"2.4.4",severity:Et.error(),desckey:"a11y.d3.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-refs.html",walkable:!1,check:function(e){return F(e.querySelectorAll("a + a"),function(e){return e.href===e.previousSibling.href})},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),Mt=function(e){var t=e.nodeName,r=function(e){for(var t=e.nextSibling;null!==t&&("#text"===t.nodeName||"BR"===t.nodeName);)t=t.nextSibling;return t}(e);return null!==r&&r.nodeName===t&&r},_t=function(e,t){for(var r=Mt(e),n=t(e)?[e]:[];!1!==r&&t(r);)n.push(r),r=Mt(r);return n},Gt=function(e,t){for(var r=-1,n=0;n<e.length;n++)if(e[n]===t){r=n;break}return r},Ht=function(e,t){for(var r=e.querySelectorAll("p,h1,h2,h3,h4,h5,h6"),n=[],o=0;o<r.length;){var i=r[o],a=_t(i,t);if(1<a.length){n.push(a[0]);var u=a[a.length-1],c=Gt(r,u);o=-1===c?o+1:c}else o++}return n},Lt=function(e){return e.textContent.match(/^\s{0,}([a-z1-9]|i+)\s{0,}[.)-]/gim)},Pt=St({id:"D4o",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.d4.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:function(e){return Ht(e,Lt)},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),Vt=function(e){return e.textContent.match(/^\s{0,}(\*|-)\s{0,}/gim)},Wt=St({id:"D4u",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.d4.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!1,check:function(e){return Ht(e,Vt)},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),qt=be("red","green","blue","alpha"),Ut={rgbaColour:qt,white:function(){return qt(255,255,255,1)}},jt=function(e,t){return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)},Bt=function(e){var t=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},r=e.red()/255,n=e.green()/255,o=e.blue()/255;return.2126*t(r)+.7152*t(n)+.0722*t(o)},Ft=function(e,t){var r=e.alpha()+t.alpha()*(1-e.alpha()),n=(e.red()*e.alpha()+t.red()*t.alpha()*(1-e.alpha()))/r,o=(e.green()*e.alpha()+t.green()*t.alpha()*(1-e.alpha()))/r,i=(e.blue()*e.alpha()+t.blue()*t.alpha()*(1-e.alpha()))/r;return Ut.rgbaColour(Math.ceil(n),Math.ceil(o),Math.ceil(i),r)},zt=function(e){var t=function(e,t,r,n){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(r,10),u=parseFloat(n);return _.some(Ut.rgbaColour(o,i,a,u))};if("transparent"===e)return t(0,0,0,0);var r=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(null!==r)return t(r[1],r[2],r[3],1);var n=e.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/);return null!==n?t(n[1],n[2],n[3],n[4]):_.none()},Xt=function(t,r){var n,o,i=t.dom(),a=e.window.getComputedStyle(i).getPropertyValue(r),u=""!==a||null!=(o=me(n=t)?n.dom().parentNode:n.dom())&&o.ownerDocument.body.contains(o)?a:Yt(i,r);return null===u?void 0:u},Yt=function(e,t){return void 0!==(r=e).style&&V(r.style.getPropertyValue)?e.style.getPropertyValue(t):"";var r},$t=function(e,t){var r=parseFloat(Xt(e,"opacity"));return r<1?Ut.rgbaColour(t.red(),t.green(),t.blue(),t.alpha()*r):t},Kt=function(e){var t,r,n,o=et(e),i=ft(o),a=[e].concat(function(e,t){for(var r=V(t)?t:S,n=e.dom(),o=[];null!==n.parentNode&&void 0!==n.parentNode;){var i=n.parentNode,a=we.fromDom(i);if(o.push(a),!0===r(a))break;n=i}return o}(e,function(e){return t=i,e.dom()===t.dom();var t})),u=(t=a,r=function(e,t){if(1===e.alpha())return e;var r=Xt(t,"background-color");return zt(r).bind(function(r){var n=$t(t,r);return 0<n.alpha()?_.some(Ft(e,n)):_.none()}).getOr(e)},n=Ut.rgbaColour(0,0,0,0),B(t,function(e){n=r(n,e)}),n);return u.alpha()<1?Ft(u,Ut.white()):u},Jt=function(e,t){var r=Xt(e,"color");return zt(r).bind(function(r){var n=$t(e,r),o=n.alpha()<1?Ft(n,t):n;return _.some(o)})},Qt=function(e){var t=Kt(e);return Jt(e,t).map(function(e){var r=Bt(t),n=Bt(e);return jt(n,r)})},Zt=function(e,t){return Qt(e).filter(function(e){return e<t}).isSome()},er=function(e){var t=Xt(e,"font-size"),r=new RegExp(".*px").test(t),n=t.match(/(\d*\.?\d*)(.*)/);return r&&null!==n?_.some(Number(n[1])):_.none()},tr=function(e){var t,r,n=!("bold"!==(r=Xt(e,"font-weight"))&&"bolder"!==r)||!!/^[0-9]*$/.test(t=r)&&700<=parseInt(t,10),o=et(e),i=ft(o),a=er(i);return er(e).fold(S,function(e){return a.fold(function(){return 24<=e||n&&19<=e},function(t){return 1.5*t<=e||n&&1.2*t<=e})})},rr=function(e){var t=rt(e);return 0<F(t,function(e){return me(e)&&0<(t=e,t.dom().nodeValue).trim().length;var t}).length},nr=St({id:"D5a",wcag:"1.4.3",severity:Et.error(),desckey:"a11y.d5a.description",url:"https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html",walkable:!0,check:function(e){var t=we.fromDom(e);return rr(t)&&tr(t)&&Zt(t,3)},levels:[J.aa()],htmlversions:[Q.html4(),Q.html5()]}),or=St({id:"D5b",wcag:"1.4.3",severity:Et.error(),desckey:"a11y.d5b.description",url:"https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html",walkable:!0,check:function(e){var t=we.fromDom(e);return rr(t)&&!tr(t)&&Zt(t,4.5)},levels:[J.aa()],htmlversions:[Q.html4(),Q.html5()]}),ir=St({id:"I1",wcag:"1.1.1",severity:Et.error(),desckey:"a11y.i1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/text-equiv-all.html",walkable:!0,check:function(e){return It(e,"img")&&(!1===e.hasAttribute("alt")||""===e.getAttribute("alt").trim())},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),ar=St({id:"I2",wcag:"1.1.1",severity:Et.error(),desckey:"a11y.i2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/text-equiv-all.html",walkable:!0,check:function(e){return It(e,"img[alt][src]")&&e.src.split("/").pop()===e.alt.split("/").pop()},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),ur=St({id:"T1",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.t1.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){if(It(e,"table")){var t=e.querySelector("caption");return!t||It(t,":empty")}return!1},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),cr=St({id:"T2",wcag:"1.3.1",severity:Et.warning(),desckey:"a11y.t2.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return It(e,"table")&&(e.querySelector("[rowspan]")||e.querySelector("[colspan]"))&&!e.hasAttribute("summary")},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4()]}),sr=St({id:"T3",
wcag:"1.3.1",severity:Et.error(),desckey:"a11y.t3.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return It(e,"table")&&e.hasAttribute("summary")&&0<e.querySelectorAll("caption").length&&e.getAttribute("summary")===e.querySelector("caption").innerHTML},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),lr=St({id:"T4b",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.t4b.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return"table"===e.nodeName.toLowerCase()&&0===e.querySelectorAll("th").length},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),fr=St({id:"T4c",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.t4c.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return"th"===e.nodeName.toLowerCase()&&(r=!1===(t=e).hasAttribute("scope"),n=!1===/row|col|rowgroup|colgroup/i.test(t.getAttribute("scope")),r||n);var t,r,n},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),dr=function(e,t){return 0===e.querySelectorAll(t).length},mr=St({id:"T4a",wcag:"1.3.1",severity:Et.error(),desckey:"a11y.t4a.description",url:"http://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html",walkable:!0,check:function(e){return"table"===e.nodeName.toLowerCase()&&(dr(t=e,"tr")||dr(t,"td"));var t},levels:[J.a(),J.aa(),J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),pr=St({id:"D5c",wcag:"1.4.3",severity:Et.error(),desckey:"a11y.d5c.description",url:"https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html",walkable:!0,check:function(e){var t=we.fromDom(e);return rr(t)&&Zt(t,7)},levels:[J.aaa()],htmlversions:[Q.html4(),Q.html5()]}),hr={all:A([Ot,Rt,Ct,Pt,Wt,nr,or,pr,ir,ar,ur,cr,sr,fr,mr,lr])},vr=function(){return hr.all().slice()},yr=Te(["id","description","element","severity","url"],[]),gr=function(e,t,r){var n=he(e,t).concat(" ",r);wr(e,t,n)},wr=function(e,t,r){pe(e,t,r)},br=function(e,t){return ve(e,t)?he(e,t).split(" "):[]},xr=function(e,t,r){(ve(e,t)?gr:wr)(e,t,r)},kr=function(e,t){return r=function(e){return Je(e,t)},F(rt(e),r);var r},Tr=function(t,r){return n=r,i=void 0===(o=t)?e.document:o.dom(),Qe(i)?[]:j(i.querySelectorAll(n),we.fromDom);var n,o,i},Nr=function(e,t,r){pe(e,t,r)},Ar=function(e,t,r,n,o,i){B(e,function(e){var r=Dr(e.severity(),n,o,i).toArray().concat([t]);B(r,function(t){pe(e.element(),t,1)})}),_.from(e[0]).each(function(e){Nr(e.element(),r,e.severity())})},Dr=function(e,t,r,n){switch(e){case"info":return _.some(t);case"warning":return _.some(r);case"error":return _.some(n);default:return _.none()}},Sr=function(e,t,r,n){var o=Tr(e,"["+t+"]");B(o,function(e){ye(e,t)}),Nr(r,t,n)},Er=function(e,t,r,n,o,i){var a=Tr(e,"["+t+"]");B(a,function(e){B([t,r,n,o,i],function(t){ye(e,t)}),Ir(e,t,r)})},Ir=function(e,t,r){ye(e,t),ye(e,r)},Or=function(e){var t=e.editor();return{start:function(t){Ar(t,e.violation(),e.current(),e.info(),e.warn(),e.error())},moveTo:function(r,n){var o=we.fromDom(t.getBody());Sr(o,e.current(),r,n)},stop:function(){var r=we.fromDom(t.getBody());Er(r,e.violation(),e.current(),e.info(),e.warn(),e.error())},exclude:function(t){Ir(t,e.violation(),e.current())}}},Rr="data-"+wt.resolve("a11y-current-violation"),Cr="data-"+wt.resolve("a11y-violation"),Mr="data-"+wt.resolve("a11y-severity-info"),_r="data-"+wt.resolve("a11y-severity-warn"),Gr="data-"+wt.resolve("a11y-severity-error"),Hr="data-"+wt.resolve("accessibility-ignore"),Lr=Te(["editor","violation","current","info","warn","error"],[]),Pr={configure:function(e){e.on("init",function(t){B([Hr,Cr,Mr,_r,Gr,Rr],function(t){e.serializer.addTempAttr(t)})})},ignoreAttr:A(Hr),manager:function(e){return Or(Lr({editor:e,violation:Cr,current:Rr,info:Mr,warn:_r,error:Gr}))}},Vr=function(e){var t,r,n,o,i,a,u,c,s=(t=e.settings,r=t.a11ychecker_level,U(Z,r)?r:J.aa()),l=(n=e.settings,o=n.a11ychecker_html_version,U(ee,o)?o:Q.html4()),f=(i=s,a=l,u=vr(),c=F(u,function(e){return U(e.levels(),i)&&U(e.htmlversions(),a)}),xt({rules:c}));Pr.configure(e);var d,m=bt(!1),p=(d=f,{audit:function(e){return Dt(e,d.rules())}}),h=Pr.manager(e),v=Pr.ignoreAttr(),y=[],g=0,w=function(){return m.set(!0),y=b(),g=0,h.start(y),k()},b=function(){var t=!0===e.settings.a11ychecker_allow_decorative_images?p.audit(e.getBody()).filter(function(e){return!1===function(e){if("I1"===e.rule().id()){var t=e.element();return!!(!0===(n=t).hasAttribute("role")&&"presentation"===n.getAttribute("role")||(r=t).hasAttribute("alt")&&""===r.getAttribute("alt").trim())}return!1;var r,n}(e)}):p.audit(e.getBody()),r=j(t,function(e){var t=e.rule(),r=t.id().toUpperCase(),n=t.desckey();return yr({id:r,description:n,element:we.fromDom(e.element()),url:t.url(),severity:t.severity()})});return F(r,function(e){var t=e.element(),r=br(t,v);return K(r,function(t){return e.id()!==t})})},x=function(t){return g=(g+=t)<0?g+y.length:g%y.length,h.moveTo(y[g].element(),y[g].severity()),e.selection.scrollIntoView(y[g].element().dom()),{summaryLabel:"Issue "+(g+1)+" of "+y.length,issue:y[g],index:g+1}},k=function(){return 0<y.length?_.some(x(0)):_.none()},T=function(){h.stop(),m.set(!1),g=0,y=[]};return{scan:w,stepIssue:x,getIssues:function(){return y.slice(0)},getCurrent:k,getReport:function(){var e=m.get();try{return e||w(),j(y,function(e){return{severity:e.severity,url:e.url,description:A(ne(e.description())),element:A(e.element().dom())}})}finally{e||T()}},resolveCurrent:function(e){return e&&xr(y[g].element(),v,y[g].id()),y=y.slice(0,g).concat(y.slice(g+1)),k()},clear:T,isAuditing:function(){return m.get()}}},Wr=function(e){return{is:function(t){return e===t},isValue:E,isError:S,getOr:A(e),getOrThunk:A(e),getOrDie:A(e),or:function(t){return Wr(e)},orThunk:function(t){return Wr(e)},fold:function(t,r){return r(e)},map:function(t){return Wr(t(e))},mapError:function(t){return Wr(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return _.some(e)}}},qr=function(e){return{is:S,isValue:S,isError:E,getOr:D,getOrThunk:function(e){return e()},getOrDie:function(){return t=String(e),function(){throw new Error(t)}();var t},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,r){return t(e)},map:function(t){return qr(e)},mapError:function(t){return qr(t(e))},each:N,bind:function(t){return qr(e)},exists:S,forall:E,toOption:_.none}},Ur={value:Wr,error:qr,fromOption:function(e,t){return e.fold(function(){return qr(t)},Wr)}},jr=function(e){return t=e,r=!0,we.fromDom(t.dom().cloneNode(r));var t,r},Br=function(e,t){var r=et(e),n=we.fromTag(t,r.dom()),o=rt(e),i=j(o,jr);ut(n,i);var a=Tr(n,"b,strong");return B(a,lt),ot(e,n),st(e),Ur.value(n)},Fr=function(e){var t=we.fromDom(e.dom().previousSibling);if(t){var r=rt(e);ut(t,r),st(e)}return Ur.value(t)},zr=function(e,t){return Ur.error(t(e))},Xr=function(e,t,r,n,o,i){return 0===t.length?zr(n,i):t===r?zr(o,i):Ur.value(e)},Yr=function(e){var t=e.split("/");return 0<t.length?t.pop():""},$r=function(e,t,r,n,o){var i,a,u=(i=e,a="src",_.from(he(i,a))).map(Yr).getOr("");return Xr(e,t,u,r,n,o).map(function(e){return pe(e,"alt",t),e})},Kr=function(e){return e.dom().innerHTML},Jr=function(t,r){var n,o,i=et(t).dom(),a=we.fromDom(i.createDocumentFragment()),u=(n=r,(o=(i||e.document).createElement("div")).innerHTML=n,rt(we.fromDom(o)));ut(a,u),ct(t),at(t,a)},Qr=function(e,t,r,n,o){var i=he(e,"summary");return Xr(e,t,i,r,n,o).map(function(r){var n,o,i=mt(e,"caption").fold(function(){return we.fromTag("caption")},function(e){return ct(e),e});return Jr(i,t),o=i,nt(n=r).fold(function(){at(n,o)},function(e){n.dom().insertBefore(o.dom(),e.dom())}),r})},Zr=function(e,t,r,n,o){var i=pt(e,"caption").filter(de).map(Kr).getOr("");return Xr(e,t,i,r,n,o).map(function(r){return pe(e,"summary",t),r})},en=function(e,t){var r=[];if("row"===t){var n=we.fromDom(e.dom().rows[0]);r=kr(n,"td")}else"col"===t&&B(e.dom().rows,function(e){mt(we.fromDom(e),"td").each(function(e){r.push(e)})});return B(r,function(e){var t=we.fromTag("th");B(e.dom().attributes,function(r){pe(t,r.name,he(e,r.name))}),t.dom().innerHTML=e.dom().innerHTML,it(e,t),st(e)}),Ur.value(e)},tn=function(e,t){return pe(e,"scope",t),Ur.value(e)},rn=function(e,t,r,n){return{type:"selectbox",label:t,name:e,items:j(r,function(e){return{text:n(e.text),value:e.value}})}},nn=function(e,t){return{type:"input",name:e,label:t}},on=function(e){return{type:"htmlpanel",html:'<div class="tox-form__group--error">'+e+"</div>"}},an=function(e,t){var r=t.ui.registry.getAll().icons;return _.from(r[e]).orThunk(function(){return _.from(r["temporary-placeholder"])}).getOr("!not found!")},un=function(e,t,r,n,o){var i,a,u,c=ne(r),s=ne(t);return'<div class="accessibility-issue__description"><div><div><div class="tox-icon">'+an("warning",e)+"</div><h2>"+c+"</h2></div><p>"+s+"</p></div><div>"+(i=n,a=e,u='<a href="'+o+'" title="'+ne("a11y.widget.help.title")+'" class="tox-button tox-button--naked tox-button--icon" target="_blank" data-alloy-tabstop="true" tabindex="-1"><div class="tox-icon">'+an(i,a)+"</div></a>","help"===i?u:'<div class="tox-icon">'+an(i,a)+"</div>")+"</div></div>"},cn=function(){return(cn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},sn=function(e,t,r){e.redial(t),e.focus(r)};(y=v||(v={})).Next="next",y.Prev="prev",y.Ignore="ignore",y.Ok="ok",y.Repair="repair";var ln=function(e,r,n,o,i){var a=e.issue,u=e.summaryLabel,c=function(e,o,c){var s,l,f="warning"===(s=a.severity())?"warn":s,d=o.fold(function(){return[]},function(e){return[{type:"panel",classes:["accessibility-issue__repair"],items:o.map(function(e){return e.items}).getOr([])}]});return{title:"Accessibility Checker",body:{type:"panel",classes:["tox-accessibility-issue","accessibility-issue--"+f],items:[{type:"panel",classes:["accessibility-issue__header"],items:[{type:"htmlpanel",html:"<h1>"+u+"</h1>",preset:"presentation"},{type:"button",name:v.Prev,text:"Prev",icon:"action-prev",borderless:!0},{type:"button",name:v.Next,text:"Next",icon:"action-next",borderless:!0}]},{type:"htmlpanel",html:un(i,a.description(),a.severity(),"help",(l=a.id(),"https://www.tinymce.com/docs/plugins/a11ychecker/#"+l)),preset:"presentation"}].concat(d)},buttons:[{type:"custom",name:v.Ignore,text:"Ignore"},{type:"custom",name:v.Repair,text:"Repair",disabled:c,primary:!0}],initialData:cn({},o.map(function(e){var t;return(t={})[a.id()]=e.defaultValue,t}).getOr({})),onAction:function(o,s){var l=s.name;if(s.value,l===v.Next||l===v.Prev){var f=r.stepIssue(l===v.Next?1:-1);sn(o,ln(f,r,n,_.none(),i),l)}else l===v.Ignore?r.resolveCurrent(!0).fold(function(){sn(o,t(r,i),v.Ok)},function(e){sn(o,ln(e,r,n,_.none(),i),v.Ignore)}):l===v.Repair&&(c||e.each(function(e){e.repair(a.element(),o.getData()[a.id()],function(e){e.fold(function(e){sn(o,ln({issue:a,summaryLabel:u},r,n,_.some(e),i),v.Repair)},function(){r.resolveCurrent(!1).fold(function(){r.scan().fold(function(){sn(o,t(r,i),v.Ok)},function(e){sn(o,ln(e,r,n,_.none(),i),v.Ignore)})},function(e){sn(o,ln(e,r,n,_.none(),i),v.Ignore)})})})}))},onCancel:function(){r.clear()}}};return n(a.id()).fold(function(){return c(_.none(),_.none(),!0)},function(e){var t,r,n=(t=e,r=a,o.fold(function(){return t.ui.map(function(e){return e(r.id(),r.element())})},function(e){return t.ui.map(function(t){var n=t(r.id(),r.element());return{items:n.items.concat([on(e)]),defaultValue:n.defaultValue}})}));return c(_.some(e),n,!1)})},fn={requestAnimationFrame:function(t,r){for(var n=e.window.requestAnimationFrame,o=["ms","moz","webkit"],i=0;i<o.length&&!n;i++)n=e.window[o[i]+"RequestAnimationFrame"];n||(n=function(t){e.window.setTimeout(t,0)}),n(t,r)},setEditorTimeout:function(t,r,n){e.window.setTimeout(function(){t.removed||r()},n||0)}},dn={getInitialHtml:function(){return'<div role="presentation"></div><div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div>'},buildHtml:function(e,t){return'<div style="white-space:normal;">'+e+(t?'<button aria-label="Show specification details" role="button" style="display:inline;" tabindex="-1"><i class="mce-ico mce-i-help"></i><button>':"")+"</div>"},setSeverity:function(e,t){e.classes.remove("error"),e.classes.remove("warning"),e.classes.remove("success"),e.classes.add(t)}},mn=function(e,t){return{type:"label",forName:e,text:t}},pn=function(e,t,r){return{type:"listbox",name:e,values:j(t,function(e){return{text:r(e.text),value:e.value}})}},hn=function(e,t){return{type:"textbox",name:e,value:t}},vn=Te(["ui","repair"],[]),yn=function(e,r){var n=bt(_.none()),o=function(){var o,i,a,u,c,s,l=(o=function(t){return e.windowManager.open(t,{inline:"toolbar",ariaAttrs:!0})},i=r,c=e,s={I1:_.some({ui:_.some(function(e,t){return{items:[nn(e,ne("a11y.i1.repair.info"))],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r($r(e,t,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",ne))})}}),I2:_.some({ui:_.some(function(e,t){var r=t.dom().alt;return{items:[nn(e,ne("a11y.i1.repair.info"))],defaultValue:r}}),repair:function(e,t,r){c.undoManager.transact(function(){r($r(e,t,"a11y.i1.repair.errors.empty","a11y.i1.repair.errors.duplicate",ne))})}}),T1:_.some({ui:_.some(function(e,t){return{items:[nn(e,ne("a11y.t1.repair.info"))],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r(Qr(e,t,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",ne))})}}),T2:_.some({ui:_.some(function(e,t){return{items:[nn(e,ne("a11y.t2.repair.info"))],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r(Zr(e,t,"a11y.t2.repair.errors.empty","a11y.t2.repair.errors.duplicate",ne))})}}),T3:_.some({ui:_.some(function(e,t){var r=mt(t,"caption").fold(function(){return""},function(e){return e.dom().innerHTML});return{items:[nn(e,ne("a11y.t1.repair.info"))],defaultValue:r}}),repair:function(e,t,r){c.undoManager.transact(function(){r(Qr(e,t,"a11y.t1.repair.errors.empty","a11y.t1.repair.errors.duplicate",ne))})}}),T4A:_.none(),T4B:_.some({ui:_.some(function(e,t){return{items:[rn(e,ne("a11y.t4b.repair.info"),[{text:"a11y.t4c.repair.header.row",value:"row"},{text:"a11y.t4c.repair.header.col",value:"col"}],ne)],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r(en(e,t))})}}),T4C:_.some({ui:_.some(function(e,t){return{items:[rn(e,ne("a11y.t4c.repair.info"),[{text:"a11y.t4c.repair.scope.row",value:"row"},{text:"a11y.t4c.repair.scope.col",value:"col"},{text:"a11y.t4c.repair.scope.rowgroup",value:"rowgroup"},{text:"a11y.t4c.repair.scope.colgroup",value:"colgroup"}],ne)],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r(tn(e,t))})}}),D1:_.some({ui:_.some(function(e,t){return{items:[rn(e,ne("a11y.d1.repair.info"),[{text:"a11y.d1.repair.block.h1",value:"h1"},{text:"a11y.d1.repair.block.h2",value:"h2"},{text:"a11y.d1.repair.block.h3",value:"h3"},{text:"a11y.d1.repair.block.h4",value:"h4"},{text:"a11y.d1.repair.block.h5",value:"h5"},{text:"a11y.d1.repair.block.h6",value:"h6"}],ne)],defaultValue:""}}),repair:function(e,t,r){c.undoManager.transact(function(){r(Br(e,t))})}}),D2:_.none(),D3:_.some({ui:_.none(),repair:function(e,t,r){c.undoManager.transact(function(){r(Fr(e))})}})},a=function(e){return s.hasOwnProperty(e)?s[e]:_.none()},u=e,i.scan().fold(function(){return o(t(i,u))},function(e){return o(ln(e,i,a,_.none(),u))}));n.set(_.some(l))},i=function(){n.get().each(function(e){e.close(),r.clear()}),n.set(_.none())};return e.ui.registry.addButton("a11ycheck",{tooltip:ne("a11y.widget.title"),icon:"accessibility-check",onAction:o}),e.ui.registry.addMenuItem("a11ycheck",{icon:"accessibility-check",text:ne("a11y.widget.title"),onAction:o}),function(){n.get().fold(o,i)}},gn=function(e,t){if(k(tinymce,"4.3.13"))return T('The "a11ychecker" plugin requires at least 4.3.13 version of TinyMCE.'),function(){};var r,o,i,a=Vr(e),u=e.settings.a11ychecker_css_url,c=u||t+"/css/annotations.css";return k(tinymce,"5.0.0")?(i=n(o=e,a),o.addButton("a11ycheck",{tooltip:ne("a11y.widget.title"),icon:"a11y",onclick:i.toggleAuditing}),o.addMenuItem("a11ycheck",{context:"tools",icon:"a11y",text:ne("a11y.widget.title"),onclick:i.toggleAuditing}),o.on("ResizeWindow",function(){fn.requestAnimationFrame(function(){i.positionDialog()})}),o.on("ScrollWindow",function(){i.positionDialog()}),o.on("ResizeEditor",function(){i.positionDialog()}),o.on("click",function(){i.stopAuditing()}),o.on("keydown",function(){i.stopAuditing()}),r=i.toggleAuditing):r=yn(e,a),e.on("init",function(t){e.dom.loadCSS(c)}),e.on("remove",function(e){1===tinymce.editors.length&&wt.removeStyles()}),{getReport:a.getReport,toggleaudit:r}};tinymce.PluginManager.requireLangPack("a11ychecker","ar,ca,cs,da,de,el,es,fa,fi,fr,he,hu,it,ja,kk,ko,nb,nl,pl,pt_pt,pt,ro,ru,sk,sl,sv,th,tr,uk,zh_tw,zh"),tinymce.PluginManager.add("a11ychecker",gn)}(window);