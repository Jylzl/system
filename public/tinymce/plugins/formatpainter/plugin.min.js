!function(e){"use strict";var r,n,t,o,i,a,u,c,s,f,l,m,d,v,p=function(e){var r=e,n=function(){return r};return{get:n,set:function(e){r=e},clone:function(){return p(n())}}},g=function(e){return parseInt(e,10)},h=function(e,r,n){return{major:e,minor:r,patch:n}},b=function(e){var r=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(e);return r?h(g(r[1]),g(r[2]),g(r[3])):h(0,0,0)},y=function(e,r){var n=e-r;return 0===n?0:0<n?1:-1},S=function(e,r){return!!e&&-1===function(e,r){var n=y(e.major,r.major);if(0!==n)return n;var t=y(e.minor,r.minor);if(0!==t)return t;var o=y(e.patch,r.patch);return 0!==o?o:0}(b([(n=e).majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join(".")),b(r));var n},O=function(e){return function(){return e}},w=O(!1),N=O(!0),T=w,x=N,E=function(){return k},k=(o={fold:function(e,r){return e()},is:T,isSome:T,isNone:x,getOr:t=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:t,orThunk:n,map:E,ap:E,each:function(){},bind:E,flatten:E,exists:T,forall:x,filter:E,equals:r=function(e){return e.isNone()},equals_:r,toArray:function(){return[]},toString:O("none()")},Object.freeze&&Object.freeze(o),o),A=function(e){var r=function(){return e},n=function(){return o},t=function(r){return r(e)},o={fold:function(r,n){return n(e)},is:function(r){return e===r},isSome:x,isNone:T,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(r){return A(r(e))},ap:function(r){return r.fold(E,function(r){return A(r(e))})},each:function(r){r(e)},bind:t,flatten:r,exists:t,forall:t,filter:function(r){return r(e)?o:k},equals:function(r){return r.is(e)},equals_:function(r,n){return r.fold(T,function(r){return n(e,r)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},_={some:A,none:E,from:function(e){return null==e?k:A(e)}},D=function(e){return function(r){return function(e){if(null===e)return"null";var r=typeof e;return"object"===r&&Array.prototype.isPrototypeOf(e)?"array":"object"===r&&String.prototype.isPrototypeOf(e)?"string":r}(r)===e}},C=D("string"),L=D("boolean"),R=D("function"),P=D("number"),F=void 0===(i=Array.prototype.indexOf)?function(e,r){return q(e,r)}:function(e,r){return i.call(e,r)},I=function(e,r){return-1<F(e,r)},j=function(e,r){return V(e,r).isSome()},M=function(e,r){for(var n=e.length,t=new Array(n),o=0;o<n;o++){var i=e[o];t[o]=r(i,o,e)}return t},B=function(e,r){for(var n=[],t=0,o=e.length;t<o;t++){var i=e[t];r(i,t,e)&&n.push(i)}return n},U=function(e,r){for(var n=0,t=e.length;n<t;n++){var o=e[n];if(r(o,n,e))return _.some(o)}return _.none()},V=function(e,r){for(var n=0,t=e.length;n<t;n++)if(r(e[n],n,e))return _.some(n);return _.none()},q=function(e,r){for(var n=0,t=e.length;n<t;++n)if(e[n]===r)return n;return-1},X=Array.prototype.push,z=function(e,r){return function(e){for(var r=[],n=0,t=e.length;n<t;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(r,e[n])}return r}(M(e,r))},H=(Array.prototype.slice,R(Array.from)&&Array.from,Object.keys),W=Object.hasOwnProperty,Y=function(e,r){for(var n=H(e),t=0,o=n.length;t<o;t++){var i=n[t];r(e[i],i,e)}},G=function(e,r){var n={};return Y(e,function(t,o){var i=r(t,o,e);n[i.k]=i.v}),n},$=function(e){return r=function(e){return e},n=[],Y(e,function(e,t){n.push(r(e,t))}),n;var r,n},K=function(e,r){return Z(e,r)?_.from(e[r]):_.none()},Z=function(e,r){return W.call(e,r)},J=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Q=e.Node.TEXT_NODE,ee=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,a=Q,function(e){return e.dom().nodeType===a}),re=function(r,n,t){!function(r,n,t){if(!(C(t)||L(t)||P(t)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(n,t+"")}(r.dom(),n,t)},ne=function(e,r){var n=e.dom().getAttribute(r);return null===n?void 0:n},te=function(e,r){e.dom().removeAttribute(r)},oe=function(e,r){var n=ne(e,r);return void 0===n||""===n?[]:n.split(" ")},ie=function(e){return void 0!==e.dom().classList},ae=function(e){return oe(e,"class")},ue=function(e,r){return o=r,i=oe(n=e,t="class").concat([o]),re(n,t,i.join(" ")),!0;var n,t,o,i},ce=function(e,r){return o=r,0<(i=B(oe(n=e,t="class"),function(e){return e!==o})).length?re(n,t,i.join(" ")):te(n,t),!1;var n,t,o,i},se=function(e,r){var n;ie(e)?e.dom().classList.remove(r):ce(e,r),0===(ie(n=e)?n.dom().classList:ae(n)).length&&te(n,"class")},fe=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:O(e)}},le={fromHtml:function(r,n){var t=(n||e.document).createElement("div");if(t.innerHTML=r,!t.hasChildNodes()||1<t.childNodes.length)throw e.console.error("HTML does not have a single root node",r),new Error("HTML must have a single root node");return fe(t.childNodes[0])},fromTag:function(r,n){var t=(n||e.document).createElement(r);return fe(t)},fromText:function(r,n){var t=(n||e.document).createTextNode(r);return fe(t)},fromDom:fe,fromPoint:function(e,r,n){var t=e.dom();return _.from(t.elementFromPoint(r,n)).map(fe)}},me=function(e,r){e.fire("FormatPainterToggle",{state:r})};(c=u||(u={})).Retrival="Retrieval",c.Application="Application",(f=s||(s={})).ListSchema="ListSchema",f.SubstitutionSchema="SubstitionSchema",(m=l||(l={})).InsertUnorderedList="InsertUnorderedList",m.InsertOrderedList="InsertOrderedList",m.InsertDefinitionList="InsertDefinitionList",(v=d||(d={})).Table="Table",v.Unspecified="Unspecified";var de,ve,pe,ge=function(e){var r,n;r=le.fromDom(e.getBody()),n="tox-cursor-format-painter",ie(r)?r.dom().classList.add(n):ue(r,n)},he=function(e,r){var n;n=e,se(le.fromDom(n.getBody()),"tox-cursor-format-painter"),r.set(u.Retrival),me(e,!1)},be=function(e,r){r.get()===u.Application?he(e,r):function(e,r){ge(e),r.set(u.Application),me(e,!0),e.execCommand("mceRetrieveFormats");var n=function(){r.get()===u.Application&&(e.execCommand("mcePaintFormats"),he(e,r)),o()},t=function(n){27===n.keyCode&&(he(e,r),o())};e.on("click",n),e.on("keydown",t);var o=function(){e.off("click",n),e.off("keydown",t)}}(e,r)},ye=(void 0!==e.window?e.window:Function("return this;")(),function(){return Se(0,0)}),Se=function(e,r){return{major:e,minor:r}},Oe={nu:Se,detect:function(e,r){var n=String(r).toLowerCase();return 0===e.length?ye():function(e,r){var n=function(e,r){for(var n=0;n<e.length;n++){var t=e[n];if(t.test(r))return t}}(e,r);if(!n)return{major:0,minor:0};var t=function(e){return Number(r.replace(n,"$"+e))};return Se(t(1),t(2))}(e,n)},unknown:ye},we="Firefox",Ne=function(e,r){return function(){return r===e}},Te=function(e){var r=e.current;return{current:r,version:e.version,isEdge:Ne("Edge",r),isChrome:Ne("Chrome",r),isIE:Ne("IE",r),isOpera:Ne("Opera",r),isFirefox:Ne(we,r),isSafari:Ne("Safari",r)}},xe={unknown:function(){return Te({current:void 0,version:Oe.unknown()})},nu:Te,edge:O("Edge"),chrome:O("Chrome"),ie:O("IE"),opera:O("Opera"),firefox:O(we),safari:O("Safari")},Ee="Windows",ke="Android",Ae="Solaris",_e="FreeBSD",De=function(e,r){return function(){return r===e}},Ce=function(e){var r=e.current;return{current:r,version:e.version,isWindows:De(Ee,r),isiOS:De("iOS",r),isAndroid:De(ke,r),isOSX:De("OSX",r),isLinux:De("Linux",r),isSolaris:De(Ae,r),isFreeBSD:De(_e,r)}},Le={unknown:function(){return Ce({current:void 0,version:Oe.unknown()})},nu:Ce,windows:O(Ee),ios:O("iOS"),android:O(ke),linux:O("Linux"),osx:O("OSX"),solaris:O(Ae),freebsd:O(_e)},Re=function(e,r){var n=String(r).toLowerCase();return U(e,function(e){return e.search(n)})},Pe=function(e,r){return Re(e,r).map(function(e){var n=Oe.detect(e.versionRegexes,r);return{current:e.name,version:n}})},Fe=function(e,r){return Re(e,r).map(function(e){var n=Oe.detect(e.versionRegexes,r);return{current:e.name,version:n}})},Ie=function(e,r){return-1!==e.indexOf(r)},je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Me=function(e){return function(r){return Ie(r,e)}},Be=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ie(e,"edge/")&&Ie(e,"chrome")&&Ie(e,"safari")&&Ie(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,je],search:function(e){return Ie(e,"chrome")&&!Ie(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ie(e,"msie")||Ie(e,"trident")}},{name:"Opera",versionRegexes:[je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Me("firefox")},{name:"Safari",versionRegexes:[je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ie(e,"safari")||Ie(e,"mobile/"))&&Ie(e,"applewebkit")}}],Ue=[{name:"Windows",search:Me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ie(e,"iphone")||Ie(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Me("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Me("linux"),versionRegexes:[]},{name:"Solaris",search:Me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Me("freebsd"),versionRegexes:[]}],Ve={browsers:O(Be),oses:O(Ue)},qe=function(e){var r,n,t,o,i,a,u,c,s,f,l,m=Ve.browsers(),d=Ve.oses(),v=Pe(m,e).fold(xe.unknown,xe.nu),p=Fe(d,e).fold(Le.unknown,Le.nu);return{browser:v,os:p,deviceType:(n=v,t=e,o=(r=p).isiOS()&&!0===/ipad/i.test(t),i=r.isiOS()&&!o,a=r.isAndroid()&&3===r.version.major,u=r.isAndroid()&&4===r.version.major,c=o||a||u&&!0===/mobile/i.test(t),s=r.isiOS()||r.isAndroid(),f=s&&!c,l=n.isSafari()&&r.isiOS()&&!1===/safari/i.test(t),{isiPad:O(o),isiPhone:O(i),isTablet:O(c),isPhone:O(f),isTouch:O(s),isAndroid:r.isAndroid,isiOS:r.isiOS,isWebView:O(l)})}},Xe=(pe=!(de=function(){var r=e.navigator.userAgent;return qe(r)}),function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pe||(pe=!0,ve=de.apply(null,e)),ve}),ze=J,He=(Xe().browser.isIE(),function(e,r){var n=e.dom();if(n.nodeType!==ze)return!1;if(void 0!==n.matches)return n.matches(r);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(r);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(r);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}),We=function(e,r,n){for(var t=e.dom(),o=R(n)?n:O(!1);t.parentNode;){t=t.parentNode;var i=le.fromDom(t);if(r(i))return _.some(i);if(o(i))break}return _.none()},Ye=function(e,r,n){var t,o,i,a,u;return t=We,a=n,u=o=e,(i=r)(u)?_.some(o):R(a)&&a(o)?_.none():t(o,i,a)},Ge={formatpainter_checklist:{selector:"ul",classes:"tox-checklist"},formatpainter_liststyletype:{selector:"ul,ol",styles:{listStyleType:"%value"}},formatpainter_borderstyle:{selector:"td,th",styles:{borderTopStyle:"%valueTop",borderRightStyle:"%valueRight",borderBottomStyle:"%valueBottom",borderLeftStyle:"%valueLeft"},remove_similar:!0},formatpainter_bordercolor:{selector:"td,th",styles:{borderTopColor:"%valueTop",borderRightColor:"%valueRight",borderBottomColor:"%valueBottom",borderLeftColor:"%valueLeft"},remove_similar:!0},formatpainter_backgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},formatpainter_removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*:not(tr,td,th,table)",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},$e=function(e,r){return K(r,"selector").exists(function(r){var n=e.getBody(),t=e.selection.getStart(),o=e.dom.getParents(t,O(!0),n),i=e.selection.getSelectedBlocks();return e.dom.is(o.concat(i),r)})},Ke=function(e,r){return j(e.formatter.get(r),function(r){return n=e,Z(t=r,"inline")&&!$e(n,t);var n,t})},Ze=function(e,r,n){return j(r.get(n),function(r){return n=e,Z(t=r,"block")||$e(n,t);var n,t})},Je=function(e){return 1<e.length&&"%"===e.charAt(0)},Qe=function(e,r){return j(e.formatter.get(r),function(e){return n=K(r=e,"styles").exists(function(e){return j($(e),Je)}),t=K(r,"attributes").exists(function(e){return j($(e),Je)}),n||t;var r,n,t})},er=function(e){return He(e,"OL,UL,DL")},rr=function(e){return He(e,"LI,DT,DD")},nr=function(e,r,n){var t,o=e.formatter,i=Ke(e,n.formatName),a=Ze(e,o,n.formatName),u=(t=n.formatName,I(["formatpainter_borderstyle","formatpainter_bordercolor","formatpainter_backgroundcolor"],t));(r.table&&u||r.inline&&i||r.block&&a&&!u)&&o.apply(n.formatName,n.substitutedVariables)},tr=function(e,r){return function(e,r){for(var n=[],t=0;t<e.length;t++){var o=e[t];if(!o.isSome())return _.none();n.push(o.getOrDie())}return _.some(r.apply(null,n))}([Ye(le.fromDom(e.getStart()),er,r),Ye(le.fromDom(e.getEnd()),er,r)],function(e,r){return n=r,e.dom()===n.dom();var n}).getOr(!1)},or=function(e){var r=e.selection,n=r.getRng(),t=le.fromDom(e.getBody()),o=B(e.selection.getSelectedBlocks().map(le.fromDom),rr),i=n.collapsed&&o.length,a=o.length&&!tr(r,t);return 1<o.length||i||a},ir=function(e,r){var n,t;n=e,t=r.context,n.formatter.remove("formatpainter_removeformat"),t===d.Table&&function(e,r){for(var n=0,t=e.length;n<t;n++)r(e[n],n,e)}(["formatpainter_borderstyle","formatpainter_bordercolor","formatpainter_backgroundcolor"],function(e){n.formatter.remove(e)}),or(n)&&n.execCommand("RemoveList");var o,i,a,u,c,f,l=(a=(o=e).selection.getStart(),u=o.selection.getRng().collapsed,c=0<o.dom.select("td[data-mce-selected]").length,f=!!o.dom.getParent(a,"TABLE"),{inline:!0,table:u&&f||c,block:u||(i=o.selection,1<i.getSelectedBlocks().length)||c});r.schemas.forEach(function(r){switch(r.kind){case s.ListSchema:n=e,t=r,l.block&&n.execCommand(t.command);break;case s.SubstitutionSchema:nr(e,l,r)}var n,t})},ar=function(e){return ie(e)?function(e){for(var r=e.dom().classList,n=new Array(r.length),t=0;t<r.length;t++)n[t]=r.item(t);return n}(e):ae(e)},ur=function(r,n){var t,o,i=r.dom(),a=e.window.getComputedStyle(i).getPropertyValue(n),u=""!==a||null!=(o=ee(t=r)?t.dom().parentNode:t.dom())&&o.ownerDocument.body.contains(o)?a:cr(i,n);return null===u?void 0:u},cr=function(e,r){return void 0!==e.style?e.style.getPropertyValue(r):""},sr=function(){return(sr=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},fr=function(e,r){return G(r,function(r,n){return{k:r.slice(1,r.length),v:(t=e,o=n,"class"===o?ar(t).filter(function(e){return!/^(mce-.*)/.test(e)}).join(" "):ne(t,o))};var t,o})},lr=function(e){return(r=e,n=function(e){return 1<(r=e).length&&"%"===r.charAt(0);var r},t={},o={},Y(r,function(e,r){(n(e,r)?t:o)[r]=e}),{t:t,f:o}).t;var r,n,t,o},mr=function(e,r){var n=K(e,"styles").map(function(e){return n=r,t=lr(e),G(t,function(e,r){return{k:e.slice(1,e.length),v:ur(n,(t=r,t.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})))};var t});var n,t}),t=K(e,"attributes").map(function(e){return fr(r,lr(e))}),o=sr({},n.getOr({}),t.getOr({}));return $(o).every(function(e){return""!==e})?_.some(o):_.none()},dr=function(e,r,n){return(t=e.get(r),0===t.length?_.none():_.some(t[0])).bind(function(e){return mr(e,n)}).map(function(e){return{kind:s.SubstitutionSchema,formatName:r,substitutedVariables:e}});var t},vr=function(e,r){return(n=e,t=n.getParam("formatpainter_blacklisted_formats","link,address,removeformat,formatpainter_removeformat","string").split(/[ ,]/),H(n.formatter.get()).filter(function(e){return!I(t,e)})).filter(function(n){var t=Qe(e,n);return e.formatter.matchNode(r.dom(),n,{},t)});var n,t},pr=function(e){return(r=e,U($(l),function(e){return r.queryCommandState(e)})).map(function(e){return{kind:s.ListSchema,command:e}});var r},gr=function(e){var r,n,t,o,i,a=e.dom,u=e.selection.getStart();return{schemas:pr(e).toArray().concat((t=e,o=u,i=t.dom.getParents(o,O(!0)),z(M(i,le.fromDom),function(e){return z(vr(t,e),function(r){return dr(t.formatter,r,e).toArray()})}))),context:(r=a,n=u,r.getParent(n,"TABLE")?d.Table:d.Unspecified)}},hr=function(r){if(S(tinymce,"4.9.0"))return e.window.console.error("The format painter plugin requires at least version 4.9.0 of TinyMCE."),{};var n,t,o,i,a,c,s,f,l=p(u.Retrival),m=p({schemas:[],context:d.Unspecified});return(n=r).on("PreInit",function(){Y(Ge,function(e,r){n.formatter.get(r)||n.formatter.register(r,e)})}),o=l,i=m,(t=r).addCommand("mceToggleFormatPainter",function(){be(t,o)}),t.addCommand("mcePaintFormats",function(){t.undoManager.transact(function(){ir(t,i.get())})}),t.addCommand("mceRetrieveFormats",function(){i.set(gr(t))}),(a=r).ui?(s=a).ui.registry.addToggleButton("formatpainter",{active:!1,icon:"format-painter",tooltip:"Format Painter",onAction:function(){return s.execCommand("mceToggleFormatPainter")},onSetup:function(e){var r=function(r){e.setActive(r.state)};return s.on("FormatPainterToggle",r),function(){return s.off("FormatPainterToggle",r)}}}):(c=a).addButton("formatpainter",{active:!1,icon:"format-painter",tooltip:"Format Painter",cmd:"mceToggleFormatPainter",onPostRender:function(e){c.on("FormatPainterToggle",function(r){e.control.active(r.state)})}}),(f=r).addShortcut("Meta+alt+C","",function(){f.execCommand("mceRetrieveFormats")}),f.addShortcut("Meta+alt+V","",function(){f.execCommand("mcePaintFormats")}),{}};return function(){tinymce.PluginManager.add("formatpainter",hr)}}(window)();