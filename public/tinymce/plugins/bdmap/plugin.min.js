tinymce.PluginManager.add("bdmap",function(t,e){var n="插入百度地图",i=tinymce.baseURL,a=i+"/plugins/bdmap/map.html",p=function(t){return t.getParam("bdmap_width",560)},r=function(t){return t.getParam("bdmap_height",362)};window.tinymceLng="",window.tinymceLat="";var m=function(){return t.windowManager.openUrl({title:n,size:"large",url:a,buttons:[{type:"cancel",text:"Close"},{type:"custom",text:"Save",name:"save",primary:!0}],onAction:function(e,n){switch(n.name){case"save":html='<iframe src="'+i+"/plugins/bdmap/bd.html?center="+tinymceLng+"%2C"+tinymceLat+"&zoom=14&width="+(p(t)-2)+"&height="+(r(t)-2)+'" frameborder="0" style="width:'+p(t)+"px;height:"+r(t)+'px;">',t.insertContent(html),e.close()}}})};return t.ui.registry.addButton("bdmap",{text:'<svg t="1568777110932" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1893" width="24" height="24"><path d="M384 168.96c-65.024 21.504-122.88 71.68-122.88 71.68l97.28 40.96 128-61.44 20.48-61.44s-65.536-8.704-122.88 10.24z" fill="#222f3e" p-id="1894"></path><path d="M476.16 460.8L358.4 358.4l-163.84-5.12 15.36 204.8 87.04 51.2 66.56 215.04 225.28-240.64 5.12-122.88z" fill="#222f3e" p-id="1895"></path><path d="M803.84 296.96l-143.36-97.28-51.2 51.2 20.48 87.04 97.28 35.84 56.32 56.32 61.44 46.08-46.08 56.32-87.04 261.12 138.24-138.24 20.48-184.32z" fill="#222f3e" p-id="1896"></path><path d="M509.44 174.08c184.832 0 335.36 150.528 335.36 335.36S694.272 844.8 509.44 844.8 174.08 694.272 174.08 509.44 324.608 174.08 509.44 174.08m0-61.44C290.304 112.64 112.64 290.304 112.64 509.44S290.304 906.24 509.44 906.24 906.24 728.576 906.24 509.44 728.576 112.64 509.44 112.64z" fill="#222f3e" p-id="1897"></path></svg>',tooltip:n,onAction:function(){m()}}),t.ui.registry.addMenuItem("bdmap",{text:n,onAction:function(){m()}}),{getMetadata:function(){return{name:n,url:"http://tinymce.ax-z.cn/more-plugins/bdmap.php"}}}});